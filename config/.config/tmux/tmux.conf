### Shell {{{
## tmuxèµ·å‹•æ™‚ã®ã‚·ã‚§ãƒ«ã‚’zshã«ã™ã‚‹
# set-option -g default-shell "/bin/zsh"
## tmuxã‚’256è‰²è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
set-option -g default-terminal "tmux-256color"
set-option -ga terminal-overrides ",$TERM:Tc"
## å…¨ã¦ã®ãƒ™ãƒ«ã‚’ç„¡è¦–
set-option -g bell-action none
## ESCã‚­ãƒ¼ã®é…å»¶ã‚’è§£æ¶ˆ
set -sg escape-time 0
## ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹
set -g base-index 1
## ãƒšã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’1ã‹ã‚‰å§‹ã‚ã‚‹
setw -g pane-base-index 1
## ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒšã‚¤ãƒ³ã®ã¿ç™½ã£ã½ãå¤‰æ›´ï¼ˆçœŸã£é»’ã¯232ï¼‰
#set -g window-style 'bg=colour239'
#set -g window-active-style 'bg=colour234'
## Synchronization
set-option -g synchronize-panes off
### }}}

### Keybindings {{{
## prefixã‚­ãƒ¼ã‚’ <C-q> ã«å¤‰æ›´
#set -g prefix C-q
set -g prefix C-s
## prefix <C-b> ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’è§£é™¤
unbind-key C-s
bind-key C-s send-prefix
## vimã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ç§»å‹•ã™ã‚‹
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
## vimã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
## | ã§ãƒšã‚¤ãƒ³ã‚’ç¸¦åˆ†å‰²ã™ã‚‹
bind | split-window -h
#bind \ split-window -h
## - ã§ãƒšã‚¤ãƒ³ã‚’ç¸¦åˆ†å‰²ã™ã‚‹
bind - split-window -v
## Reload .tmux.conf
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded tmux.conf"
## Synchronization
bind e setw synchronize-panes on
bind E setw synchronize-panes off
# ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹
# ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§vimã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’ä½¿ã†
setw -g mode-keys vi
# 'v' ã§é¸æŠã‚’å§‹ã‚ã‚‹
bind -T copy-mode-vi v send -X begin-selection
# 'V' ã§è¡Œé¸æŠ
bind -T copy-mode-vi V send -X select-line
# 'C-v' ã§çŸ©å½¢é¸æŠ
bind -T copy-mode-vi C-v send -X rectangle-toggle
# 'y' ã§ãƒ¤ãƒ³ã‚¯
#bind -T copy-mode-vi y send -X copy-selection
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -i -sel clip > /dev/null"
# 'Y' ã§è¡Œãƒ¤ãƒ³ã‚¯
#bind -T copy-mode-vi Y send -X copy-line
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -i -sel clip > /dev/null"
# 'C-p'ã§ãƒšãƒ¼ã‚¹ãƒˆ
bind-key C-p paste-buffer
#bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel "win32yank.exe -i"
#unbind -T copy-mode-vi Enter
#bind-key -T copy-mode-vi Enter send -X copy-pipe-and-cancel "win32yank.exe -i"
#bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "win32yank.exe -i"
#unbind-key -T prefix v
#bind-key v run "win32yank.exe -o | tmux load-buffer - && tmux paste-buffer"

## tmuxã‚’åˆ†å‰²ã—ãŸã¨ãã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã™ã‚‹
bind c new-window -c "#{pane_current_path}"
bind % split-window -hc "#{pane_current_path}"
bind '"' split-window -vc "#{pane_current_path}"
### }}}

### Mouse {{{
# ãƒã‚¦ã‚¹æ“ä½œã‚’æœ‰åŠ¹ã«ã™ã‚‹
set-option -g mouse on
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"
#bind -n WheelDownPane select-pane -t= ; send-keys -M
### }}}

### Font {{{
SEPARATOR_LEFT="\ue0b0"
SEPARATOR_RIGHT="\ue0b2"
SUBSEPARATOR_LEFT="\ue0b1"
SUBSEPARATOR_RIGHT="\ue0b3"
### }}}

### Plugin {{{
## Install path
set-environment -g TMUX_PLUGIN_MANAGER_PATH '$HOME/.cache/tmux/plugins'

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
#set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
#set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'tmux-plugins/tmux-pain-control'
#set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-online-status'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
#set -g @plugin 'egel/tmux-gruvbox'
#set -g @plugin 'lawabidingcactus/tmux-gruvbox-truecolor'
set -g @plugin 'tmux-plugins/tmux-net-speed'
set -g @plugin 'tmux-plugins/tmux-cpu'
# set -g @plugin 'dracula/tmux'
#set -g @plugin 'fcambus/ansiweather'
#set -g @plugin 'dstokes/tmux-weather'
set -g @plugin 'xamut/tmux-weather'
set -g @plugin 'tassaron/tmux-df'
# set -g @plugin 'thewtex/tmux-mem-cpu-load'

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

## Plugin configuration
set -g @resurrect-dir '$HOME/.cache/tmux/resurrect'
set -g @continuum-save-interval '1'
set -g @continuum-restore 'on'

# tmux-prefix-highlightã®è¨­å®š
set -g @prefix_highlight_fg 'black'
set -g @prefix_highlight_bg 'green'
set -g @prefix_highlight_empty_prompt   "#[bold]#(os_icon.sh) #(os_name.sh) | ğŸ’™ NONE"
set -g @prefix_highlight_prefix_prompt  "#[bold]#(os_icon.sh) #(os_name.sh) | ğŸ’š WAIT"
set -g @prefix_highlight_copy_prompt    "#[bold]#(os_icon.sh) #(os_name.sh) | ğŸ’› COPY"
set -g @prefix_highlight_sync_prompt    "#[bold]#(os_icon.sh) #(os_name.sh) | ğŸ§¡ SYNC"
set -g @prefix_highlight_empty_attr     'fg=black,bg=blue'
set -g @prefix_highlight_copy_mode_attr 'fg=black,bg=yellow'
set -g @prefix_highlight_sync_mode_attr 'fg=black,bg=red'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_show_sync_mode 'on'
set -g @prefix_highlight_empty_has_affixes 'on'
set -g @prefix_highlight_output_prefix " "
set -g @prefix_highlight_output_suffix " "

# tmux-plugins/tmux-online-status
set -g @online_icon  "ğŸŒ " # '\ufaa8'
set -g @offline_icon "ğŸ‘» " # '\ufaa9'

# tmux-plugins/tmux-battery
set -g @batt_icon_charge_tier8       '\uf580'
set -g @batt_icon_charge_tier7       '\uf57f'
set -g @batt_icon_charge_tier6       '\uf57e'
set -g @batt_icon_charge_tier5       '\uf57d'
set -g @batt_icon_charge_tier4       '\uf57c'
set -g @batt_icon_charge_tier3       '\uf57b'
set -g @batt_icon_charge_tier2       '\uf57a'
set -g @batt_icon_charge_tier1       '\uf579'
set -g @batt_icon_status_charged     "âœ…" #'\uf583'
set -g @batt_icon_status_charging    "âš¡" #'\uf583'
set -g @batt_icon_status_discharging "ğŸ”‹" #'\uf578'
set -g @batt_icon_status_attached    "âš ï¸ " #'\uf583'
set -g @batt_icon_status_unknown     "â›”" #'\uf583'

# tmux-plugins/tmux-net-speed
set -g @download_speed_format "%-3s"
set -g @upload_speed_format   "%-3s"
set -g @net_speed_format 'ğŸ”¼ %s ğŸ”½ %s' # '\ufa51%s  \uf6d9 %s'

set-option -g @tmux-weather-interval 15
set-option -g @tmux-weather-location "Nagasaki"
set-option -g @tmux-weather-format "%c|+%t+|+%p+|+%l"
set-option -g @tmux-weather-units "m"
### }}}

### Statusline {{{
# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’ãƒˆãƒƒãƒ—ã«é…ç½®ã™ã‚‹
#set-option -g status-position top
set-option -g status-position bottom
# status line ã‚’æ›´æ–°ã™ã‚‹é–“éš”ã‚’ 1 ç§’ã«ã™ã‚‹
set-option -g status-interval 1
# window-status ã‚’ä¸­å¤®æƒãˆã§é…ç½®ã™ã‚‹
set-option -g status-justify "left"
#set-option -g status-style bg=default
# status line ã®æ–‡å­—è‰²ã‚’æŒ‡å®šã™ã‚‹ã€‚
set-option -g status-fg "colour253"
#set-option -g status-fg "colour245"
#set-option -g status-fg "default"
# status line ã®èƒŒæ™¯è‰²ã‚’æŒ‡å®šã™ã‚‹ã€‚
set-option -g status-bg "colour236"
#set-option -g status-bg "default"
# status-left ã®æœ€å¤§ã®é•·ã•ã‚’æŒ‡å®šã™ã‚‹ã€‚
set-option -g status-left-length 250
# status-right ã®æœ€å¤§ã®é•·ã•ã‚’æŒ‡å®šã™ã‚‹ã€‚
set-option -g status-right-length 500

set -g status-left "#{prefix_highlight}#[default] | #[default]"
set -g status-right "#[fg=black,bg=red] Battery #{battery_icon_status} #[default] #[fg=black,bg=green] CPU #{cpu_percentage} | RAM #{ram_percentage} #[default] #[fg=black,bg=yellow] ğŸ’¾ #{df_avail} (#{df_percent}) #[default] #[fg=black,bg=pink] #{online_status}#{net_speed} #[default] #[fg=black,bg=blue] #{weather} #[default] #[fg=black,bg=cyan] ğŸ“… %Y/%m/%d (%a) #[default] #[fg=black,bg=magenta] â° %H:%M:%S #[default]"
# set -g status-right "#[fg=colour247,bg=colour236] ${SUBSEPARATOR_RIGHT} #{battery_icon_status} ${SUBSEPARATOR_RIGHT} #{online_status} #[fg=colour240,bg=colour236]${SEPARATOR_RIGHT}#[fg=colour250,bg=colour240] #{net_speed} #[fg=colour252,bg=colour240]${SEPARATOR_RIGHT}#[fg=colour241,bg=colour252] %Y/%m/%d %a %H:%M:%S #[default]"
set-window-option -g window-status-current-format "#[fg=black,bg=magenta,bold] #I #W "
set-window-option -g window-status-format "#[fg=white,bg=default] #I #W "
#
# status-left ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚
#set -g status-left "#(tmux-status-left)#[bg=white]"
# status-right ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚
#set -g status-right "#[fg=colour247,bg=colour236] ${SUBSEPARATOR_RIGHT} #{battery_icon_status} ${SUBSEPARATOR_RIGHT} #{online_status} #[fg=colour240,bg=colour236]${SEPARATOR_RIGHT}#[fg=colour250,bg=colour240] #{net_speed} #[fg=colour252,bg=colour240]${SEPARATOR_RIGHT}#[fg=colour241,bg=colour252] %Y/%m/%d %a %H:%M:%S #[default]"
#set -g status-right "#[fg=colour247,bg=colour236] ${SUBSEPARATOR_RIGHT} #{battery_icon_status} ${SUBSEPARATOR_RIGHT} #{online_status} #[fg=colour240,bg=colour236]${SEPARATOR_RIGHT}#[fg=colour250,bg=colour240] %Y/%m/%d %a #[fg=colour252,bg=colour240]${SEPARATOR_RIGHT}#[fg=colour241,bg=colour252] %H:%M:%S #[default]"
#set -g status-right "#[fg=colour236,bg=default] ${SEPARATOR_RIGHT}#[fg=colour247,bg=colour236] #{battery_icon_status} ${SUBSEPARATOR_RIGHT} #{online_status} #[fg=colour240,bg=colour236]${SEPARATOR_RIGHT}#[fg=colour250,bg=colour240] %Y/%m/%d %a #[fg=colour252,bg=colour240]${SEPARATOR_RIGHT}#[fg=colour241,bg=colour252] %H:%M:%S #[default]"
#set -g status-right "#(tmux-status-right)"
# window-status ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚
# set-window-option -g window-status-format "#[fg=colour240,bg=colour235] #I #W #[default]"
# ã‚«ãƒ¬ãƒ³ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã® window-status ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹
# set-window-option -g window-status-current-format "#[fg=colour117,bg=colour24,bold] #I #W #[default]"
# Powerline
#source "$HOME/.local/usr/lib/python3.9/site-packages/powerline/bindings/tmux/powerline.conf"
# Pane
## paneã®ç·šã‚’å¤ªç·š
#set -g pane-border-style lines=heavy
#set -g pane-border-style fg=colour236
#set -g pane-border-style fg=colour250
#,bg=colour240
#set -g pane-active-border-style fg=colour148
#,bg=colour22
#set -g pane-border-lines heavy
#set -g pane-active-border-bg default
#set -g pane-active-border-fg "#373b41"
#set -g pane-border-bg default
#set -g pane-border-fg "#373b41"
#set-option -g pane-border-status top
#set-option -g pane-border-format "#(tmux-pane-border #{pane_current_command} #{pane_pid} #{pane_current_path} #{pane_active})"
#set-option -g pane-border-format ""
## PANEã®ç½«ç·š
#set-option -g utf8-cjk on
#set -g pane-border-ascii on
#set-option -g pane-border-acs on
### }}}
#source-file ~/.config/tmux/tmuxline.conf
#set-option -g status-justify "left"


# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '$HOME/.cache/tmux/plugins/tpm/tpm'

